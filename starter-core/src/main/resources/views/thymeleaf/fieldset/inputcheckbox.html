<th:block th:fragment="inputcheckbox(el)" xmlns:th="http://www.thymeleaf.org"><th:block th:if="${el.label()}"><label th:replace="~{fieldset/label :: label(null, ${el.label()})}"></label></th:block><div class="form-check" th:each="checkbox : ${el.checkboxes()}"><input type="checkbox" th:name="${checkbox.name()}" th:value="${checkbox.value()}" th:id="${checkbox.id()}" class="form-check-input" th:required="${checkbox.required()}" th:checked="${checkbox.checked()}" th:classappend="${el.hasErrors() ? 'is-invalid' : ''}"/><label th:replace="~{fieldset/label :: label(${checkbox.id()}, ${checkbox.label()})}"></label></div></th:block>