<plugin>
  <groupId>org.asciidoctor</groupId>
  <artifactId>asciidoctor-maven-plugin</artifactId>
  <version>${asciidoctor.maven.plugin.version}</version>
  <dependencies>
    <dependency>
      <groupId>org.asciidoctor</groupId>
      <artifactId>asciidoctorj</artifactId>
      <version>${asciidoctorj.version}</version>
    </dependency>
    <dependency>
      <groupId>org.asciidoctor</groupId>
      <artifactId>asciidoctorj-diagram</artifactId>
      <version>${asciidoctorj.diagram.version}</version>
    </dependency>
  </dependencies>
  <configuration>
    <sourceDirectory>src/docs/asciidoc</sourceDirectory>
    <requires>
      <require>asciidoctor-diagram</require>
    </requires>
    <!-- Attributes common to all output formats -->
    <attributes>
      <endpoint-url>https://example.org</endpoint-url>
      <sourcedir>${project.build.sourceDirectory}</sourcedir>
      <project-version>${project.version}</project-version>
    </attributes>
  </configuration>
  <executions>
    <execution>
      <id>asciidoc-to-html</id>
      <phase>generate-resources</phase>
      <goals>
        <goal>process-asciidoc</goal>
      </goals>
      <configuration>
        <backend>html5</backend>
        <sourceHighlighter>coderay</sourceHighlighter>
        <attributes>
          <imagesdir>./images</imagesdir>
          <toc>left</toc>
          <icons>font</icons>
          <sectanchors>true</sectanchors>
          <!-- set the idprefix to blank -->
          <idprefix/>
          <idseparator>-</idseparator>
          <docinfo1>true</docinfo1>
        </attributes>
      </configuration>
    </execution>
  </executions>
</plugin>
