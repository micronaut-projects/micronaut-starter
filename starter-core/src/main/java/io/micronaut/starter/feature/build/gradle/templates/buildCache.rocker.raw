@import io.micronaut.starter.feature.build.gradle.BuildRemoteCacheConfiguration
@import io.micronaut.starter.build.gradle.GradleDsl
@args (GradleDsl dsl, BuildRemoteCacheConfiguration config)
@if(dsl == GradleDsl.KOTLIN) {
buildCache {
    remote<HttpBuildCache> {
        url = uri("@(config.getUrl())")
@if(config.push()) {
        isPush = true
}
@if(config.getCredentials() != null) {
        credentials {
            username = "@(config.getCredentials().getUsername())"
            password = "@(config.getCredentials().getPassword())"
        }
}
    }
}
} else {
buildCache {
    remote(HttpBuildCache) {
        url = "@(config.getUrl())"
@if(config.push()) {
        push = true
}
@if(config.getCredentials() != null) {
        credentials {
            username = "@(config.getCredentials().getUsername())"
            password = "@(config.getCredentials().getPassword())"
        }
}
    }
}
}